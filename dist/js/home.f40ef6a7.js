(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{"0f4c":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".city-select[data-v-93469798]{background:linear-gradient(90deg,#dbbd84,#c9a75a)}.city-select .step-icons[data-v-93469798]{padding:.33rem .3rem .24rem}.city-select .step-icons .img[data-v-93469798]{width:100%;height:auto}.city-select .ding-body[data-v-93469798]{border-radius:.1rem .1rem 0 0;min-height:100vh;background:#fff}.city-select .search-bar[data-v-93469798]{border-bottom:.5pt solid hsla(0,0%,88.2%,.3);background:#fff;display:flex;width:100%;border-radius:.1rem .1rem 0 0;overflow:hidden;height:.58rem;line-height:.58rem;color:#767676}.city-select .search-bar .address[data-v-93469798]{display:flex;align-items:center;justify-content:center;padding:0 0 0 .14rem;font-size:.12rem}.city-select .search-bar .search-input[data-v-93469798]{flex:1;text-align:center;font-size:.14rem}",""])},"1af6":function(t,e,n){var r=n("63b6");r(r.S,"Array",{isArray:n("9003")})},"20fd":function(t,e,n){"use strict";var r=n("d9f6"),a=n("aebd");t.exports=function(t,e,n){e in t?r.f(t,e,a(0,n)):t[e]=n}},"2dd3":function(t,e,n){var r=n("532f");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("499e").default;a("69f3b5d8",r,!0,{sourceMap:!1,shadowMode:!1})},"2e18":function(t,e,n){t.exports=n.p+"img/headImg@2x.c2b96cd8.png"},"3bfb":function(t,e,n){"use strict";var r=n("2dd3"),a=n.n(r);a.a},"532f":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".city-select .van-grid-item__content:after{border:none}.city-select .van-grid-item__content{background:unset}.city-select .van-list{background:#fff}.city-select .van-list .van-cell__label,.city-select .van-list .van-cell__value{color:#ababab}.city-select .van-list .van-cell__label span,.city-select .van-list .van-cell__value span{display:block}.city-select .van-list .van-cell__title{flex:1;white-space:nowrap;overflow:hidden}.city-select .van-list .van-cell__title span{overflow:hidden;text-overflow:ellipsis}.city-select .van-list .van-cell__value{flex:unset;padding-left:.2rem}.city-select .van-cell-override{padding:.13rem .14rem}.city-select .van-cell-override .title{color:#333;font-size:.14rem}.city-select .van-cell-override .label{font-size:.12rem}",""])},"549b":function(t,e,n){"use strict";var r=n("d864"),a=n("63b6"),i=n("241e"),s=n("b0dc"),c=n("3702"),o=n("b447"),l=n("20fd"),u=n("7cd6");a(a.S+a.F*!n("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,n,a,d,f=i(t),p="function"==typeof this?this:Array,v=arguments.length,h=v>1?arguments[1]:void 0,m=void 0!==h,g=0,b=u(f);if(m&&(h=r(h,v>2?arguments[2]:void 0,2)),void 0==b||p==Array&&c(b))for(e=o(f.length),n=new p(e);e>g;g++)l(n,g,m?h(f[g],g):f[g]);else for(d=b.call(f),n=new p;!(a=d.next()).done;g++)l(n,g,m?s(d,h,[a.value,g],!0):a.value);return n.length=g,n}})},"54a1":function(t,e,n){n("6c1c"),n("1654"),t.exports=n("95d5")},"58d9":function(t,e,n){"use strict";var r=n("8011"),a=n.n(r);a.a},"774e":function(t,e,n){t.exports=n("d2d5")},8011:function(t,e,n){var r=n("0f4c");"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var a=n("499e").default;a("226d6c23",r,!0,{sourceMap:!1,shadowMode:!1})},8641:function(t,e,n){"use strict";n("96cf");var r=n("3b8d"),a=(n("ac6a"),n("456d"),n("1b69")),i={areaList:"item-center/app/kfc/area/list",hotAreaList:"item-center/app/kfc/hot/area/list",restaurantList:"item-center/app/kfc/restaurant/list",location:"item-center/app/kfc/location"},s={},c={};Object.keys(i).map((function(t){c[t]=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"",r=i[t],e.next=4,Object(a["a"])({url:r,params:n});case 4:return s=e.sent,console.log(t,s),e.abrupt("return",s);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),Object.keys(s).map((function(t){c[t]=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(n){var r,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return"",r=s[t],e.next=4,Object(a["a"])({url:r,data:n,method:"POST"});case 4:return i=e.sent,console.log(t,i),e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),c.getpacketDetail=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])({url:i.getParentPacketDetail+e});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c.getHelps=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(a["a"])({url:i.getHelps+e,params:{pageNo:1,pageSize:3}});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e["a"]=c},9003:function(t,e,n){var r=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==r(t)}},"95d5":function(t,e,n){var r=n("40c3"),a=n("5168")("iterator"),i=n("481b");t.exports=n("584a").isIterable=function(t){var e=Object(t);return void 0!==e[a]||"@@iterator"in e||i.hasOwnProperty(r(e))}},"986e":function(t,e,n){"use strict";var r=n("2b0e");e["a"]=new r["a"]},a745:function(t,e,n){t.exports=n("f410")},c8bb:function(t,e,n){t.exports=n("54a1")},d2d5:function(t,e,n){n("1654"),n("549b"),t.exports=n("584a").Array.from},f410:function(t,e,n){n("1af6"),t.exports=n("584a").Array.isArray},f5b8:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"city-select"},[r("div",{staticClass:"step-icons"},[r("img",{staticClass:"img",attrs:{src:n("2e18"),alt:"",srcset:""}})]),r("div",{staticClass:"ding-body"},[r("div",{staticClass:"search-bar"},[r("span",{staticClass:"address",on:{click:t.chooseCity}},[t._v("\n        "+t._s(t.currentCity.city)+"\n        "),r("van-icon",{attrs:{name:"arrow-down",color:"#ABABAB"}})],1),r("span",{staticClass:"search-input"},[t._v("附近餐厅")]),r("span",{staticClass:"address",staticStyle:{visibility:"hidden"},on:{click:t.chooseCity}},[t._v("\n        "+t._s(t.currentCity.city)+"\n        "),r("van-icon",{attrs:{name:"arrow-down",color:"#ABABAB"}})],1)]),r("van-list",{attrs:{finished:t.finished,error:t.error,"error-text":"请求失败，点击重新加载","finished-text":"没有更多啦~"},on:{"update:error":function(e){t.error=e},load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.dataList,(function(e){return r("van-cell",{key:e.storeId,staticClass:"van-cell-override",attrs:{center:""},on:{click:function(){return t.chooseDiningRoom(e)}}},[r("span",{staticClass:"title",attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),r("span",{staticClass:"label",attrs:{slot:"label"},slot:"label"},[t._v(t._s(e.address))]),r("span",{staticClass:"value",attrs:{slot:"default"},slot:"default"},[t._v(t._s(e.distance)+" "+t._s(e.distance>0?"km":""))]),r("van-icon",{attrs:{slot:"right-icon",name:"arrow",color:"#ABABAB"},slot:"right-icon"})],1)})),1)],1)])},a=[],i=n("a745"),s=n.n(i);function c(t){if(s()(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}var o=n("774e"),l=n.n(o),u=n("c8bb"),d=n.n(u);function f(t){if(d()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return l()(t)}function p(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function v(t){return c(t)||f(t)||p()}var h=n("2f62"),m=(n("986e"),n("8641")),g={data:function(){return{dataList:[],page:1,pageSize:10,error:!1,loading:!1,finished:!1,locOk:!1}},created:function(){window.document.title="选择餐厅"},computed:Object(h["d"])({currentCity:function(t){return t.home.selCity}}),methods:{chooseCity:function(){this.$router.push({path:"/dining-address"})},calTime:function(){var t=new Date,e=t.getHours();if(e>6&&e<23){if(e<23)return!0}else if(6===e){var n=t.getMinutes();if(n>=30)return!0}return!1},chooseDiningRoom:function(t){var e=this;this.calTime()?this.$dialog.confirm({confirmButtonColor:"#DEB467",confirmButtonText:"继续点餐",cancelButtonColor:"#494949",cancelButtonText:"重选餐厅",title:"温馨提示",message:"肯德基点餐为第三方供应商提供的代下单服务。当您支付后，请凭取餐码等候门店屏幕的显示即可取餐。如有疑问请联系小鲸卡特权客服。"}).then((function(){e.$store.commit("home/selDiningRoom",t),e.$store.commit("cart/clearCartData"),e.$router.push({path:"/list"})})).catch((function(){})):this.$dialog.alert({message:"6:30-23:00才开始营业哦",confirmButtonColor:"#DEB467",confirmButtonText:"知道了"})},onLoad:function(){var t=this;m["a"].restaurantList({page:this.page,pageSize:this.pageSize,districtId:this.$store.state.home.selCity.districtId,latitude:this.$store.state.home.selCity.latitude,longitude:this.$store.state.home.selCity.longitude}).then((function(e){var n;(t.loading=!1,e.entry&&e.entry.length>0&&t.pageSize==e.entry.length?t.page=t.page+1:t.finished=!0,e.status)?e.entry&&e.entry.length>0&&(n=t.dataList).push.apply(n,v(e.entry.map((function(t){return t})))):t.finished=!0})).catch((function(e){t.loading=!1,t.error=!0}))}}},b=g,y=(n("3bfb"),n("58d9"),n("2877")),w=Object(y["a"])(b,r,a,!1,null,"93469798",null);e["default"]=w.exports}}]);